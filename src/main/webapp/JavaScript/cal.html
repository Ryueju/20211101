<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>javascript/cal.html</title>
    <style>
        th,
        td {
            width: 30px;
            height: 10px;
            color: grey;
            border-radius: 3px;
            text-align: right;
        }

        tr>th:nth-child(1),
        tr>td:nth-child(1) {
            background-color: rgb(255, 169, 169);
            color: whitesmoke;
        }

        tr>th:nth-child(7),
        tr>td:nth-child(7) {
            background-color: rgb(203, 203, 218);
            color: whitesmoke;
        }
    </style>
</head>

<body>
    <script>
        console.log(window);
        //반복문 1 ~ 13 까지
        //1~31까지 숫자를 담는 <table border='1'><tbody><tr><td>1</td><td>2</td>....31</tr></tbody></table>
        //
        function getLastDate(month) {
            let mon = [0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
            return mon[month];
            return date;
        }


        let days = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];

        let year, month, lastDate;
        year = 2021;
        month = 11;
        lastDate = getLastDate(month);




        let today = new Date(year + '-' + month + '- 01 ');
        let firstDate = today.getDay(); // 일:1 월:2 화:3 ...
        console.log(firstDate);

        let str = '<h1>' + year + '년' + month + '월 </h1>';
        str += '<table border = 1>';

        //타이틀
        str += '<thead><tr>';
        for (let day of days) {
            str += '<th>' + day + '</th>';
        }
        str += '</tr></thead>';

        //날짜
        str += '<tbody>';
        str += '<tr>'

        for (let i = 0; i < firstDate; i++) {
            str += '<td></td>';
        }
        for (let i = 1; i <= lastDate; i++) {
            str += '<td>' + i + '</td>';
            if ((i + firstDate) % 7 == 0) {
                str += '<tr></tr>';
            }
        }
        str += '</tr>'
        str += '</tbody>';
        str += '</table>';
        document.write(str);

        
        //마우스 이벤트 처리
        let tds = document.querySelectorAll('td'); //td 태그를 전부 가져오겠다.
        for (let td of tds) {
            td.onmouseout = function () {
                this.style.backgroundColor = '';
                this.style.color = '';
            }
            td.onmouseover = function () {
                this.style.backgroundColor = 'lightyellow';
                this.style.color = 'darkgrey';
            }
        }
    </script>
</body>

</html>